define(["jquery","bsp-utils"],function(t,a){a.onDomInsert(document,".objectInputs",{insert:function(a){function e(t){var a=t.left+t.width,e=t.top+t.height;a>o&&(o=a),e>d&&(d=e)}function n(a,e){var n=t("<div/>",{"class":"inputLayout-label"+(e?"":" inputLayout-label-placeholder"),click:function(){if(e){var a=t(this);a.closest(".inputLayout-container").find(".inputLayout-label").removeClass("inputLayout-label-selected"),u.toggleClass("inputLayout-hidden",!0),a.addClass("inputLayout-label-selected"),e.toggleClass("inputLayout-hidden",!1),e.trigger("resize")}}});e?n.text(e.find("> .inputLabel > label").text()):n.text(a.name);var i=a.dynamicText;i&&n.attr("data-dynamic-text",i),h.append(t("<div/>",{"class":"inputLayout-element "+(e?"inputLayout-element-field":"inputLayout-element-placeholder"),html:n,css:{height:a.height/d*100+"%",left:a.left/o*100+"%",top:a.top/d*100+"%",width:a.width/o*100+"%"}}))}var i=t(a),l=t.parseJSON(i.attr("data-layout-placeholders"))||[],u=i.find("> .inputContainer[data-layout-field]");if(0!==l.length||0!==u.length){var o=0,d=0,s=null;t.each(l,function(t,a){e(a)}),u.each(function(){null===s&&t(this).attr("data-tab")&&(s=t(this).attr("data-tab")),e(t.parseJSON(t(this).attr("data-layout-field")))});var p=u.eq(0),c=t("<div/>",{"class":"inputLayout-wrapper","data-tab":s}),r=t("<div/>",{"class":"inputLayout-constrain",css:{"padding-bottom":d/o*100+"%"}}),h=t("<div/>",{"class":"inputLayout-container"});t.each(l,function(t,a){n(a)}),u.each(function(){var a=t(this);n(t.parseJSON(a.attr("data-layout-field")),a)}),c.append(r),r.append(h),p.before(c),u.toggleClass("inputLayout-hidden",!0),h.find(".inputLayout-element-field").eq(0).find(".inputLayout-label").addClass("inputLayout-label-selected"),p.toggleClass("inputLayout-hidden",!1),p.trigger("input")}}})});