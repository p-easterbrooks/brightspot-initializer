define(["jquery","bsp-utils","codemirror/lib/codemirror","codemirror/mode/clike/clike","codemirror/mode/xml/xml","codemirror/mode/javascript/javascript","codemirror/mode/css/css","codemirror/mode/htmlmixed/htmlmixed","codemirror/mode/htmlembedded/htmlembedded"],function(e,o,r){var i=e(window),t=e(),n=[];o.onDomInsert(document,"textarea[data-code-type]",{insert:function(o){t=t.add(e(o))}}),setInterval(function(){t.each(function(){var o,i=e(this);i.is(":visible")&&(t=t.not(i),o=r.fromTextArea(this,{indentUnit:4,lineNumbers:!0,lineWrapping:!0,mode:i.attr("data-code-type")}),o.on("change",function(){i.closest(".inputContainer").scrollTop(0),i.val(o.getValue()),i.change()}),n.push(o))})},100),i.resize(function(){e.each(n,function(e,o){o.refresh()})})});