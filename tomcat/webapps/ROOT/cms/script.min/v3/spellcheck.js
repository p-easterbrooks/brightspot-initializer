define(["jquery"],function(e){var a;return a={cache:{},serviceUrl:"/cms/spellCheck",localeDefault:"en",lookup:function(a,c){var t,r,o,n,u,l;return r=this,c=e.extend({},{useCache:!0,locale:r.localeGet()},c),t=e.Deferred(),o={},n=e.isArray(a)?a:[a],l={},e.each(n,function(){l[this]=!0}),u=[],e.each(l,function(e){var a;a=r.cacheLookup(e),void 0!==a&&c.useCache?o[e]=a:u.push(e)}),u.length?e.ajax(r.serviceUrl,{type:"POST",dataType:"json",traditional:!0,data:{locale:c.locale,word:u}}).done(function(a,n,l){"supported"===a.status?(e.each(u,function(e,t){var n;n=a.results[e],o[t]=n,c.useCache&&r.cacheAdd(t,n)}),t.resolve(o)):t.reject(a.status||"unsupported")}).fail(function(e,a,c){t.reject(a)}):t.resolve(o),t.promise()},cacheClear:function(){var e;e=this,e.cache={}},cacheAdd:function(e,a){var c;c=this,c.cache[e]=a},cacheLookup:function(e){var a;return a=this,a.cache[e]},localeGet:function(){var a,c;return c=this,a=e("html").attr("lang")||c.localeDefault,a.toLowerCase()}}});